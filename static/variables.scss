@import '../theme_config/custom_theme_variables.scss';

// Breakpoints
$small-bp: 291px;
$medium-bp: 405px;
$large-bp: 1001px;
$audio-player-bp: 550px;
$chapter-dropdown-bp: 690px;

$font-primary: 'Open Sans', sans-serif;
$checkbox-color: #6fbc8f;
$login-email-color: #6e747f;

// Social providers should not change colors
$login-facebook-color: #4267b2;
$login-google-color: #ffffff;
$login-twitter-color: rgb(42, 163, 239);

$default-font-family: 'Raleway', Helvetica, sans serif;
$sans-font-family-option: 'Raleway', Helvetica, sans serif;
$serif-font-family-option: 'Alegreya', 'Palatino Linotype', Palatino, serif;
$slab-font-family-option: 'Roboto Slab', Rockwell, Courier, monospace;

// NOTE: Declaring the variables here so that I can use PHP Storm's "refactor"
// functionality and code completion, I will remove them before production
:root {
	--application-base-font-size: 0.98em;
	--application-menu-font-size: 0.98em;
	--application-font-family: 'Raleway', Helvetica, sans serif;
	--sans-font-family-option: 'Raleway', Helvetica, sans serif;
	--serif-font-family-option: 'Alegreya', 'Palatino Linotype', Palatino, serif;
	--slab-font-family-option: 'Roboto Slab', Rockwell, Courier, monospace;
}

$css4: true;
$compatibility: true;
//it is nessesary to define the variables in sass map instead of :root, for compatibility reasons.
$variables: (
	--text-selection-background: $text-selection-background,
	--text-selection-accordion-title-background: rgba(255, 255, 255, 0.3),
	--text-selection-accordion-body-background: #000000,
	--text-selection-tab-option-active-background: #fdf9f3,
	--text-selection-tab-option-color: #ffffff,
	--text-selection-tab-option-active-color: #000000,
	--text-selection-tab-option-active-border-color: #ffffff,
	--book-dropdown-background-color: #2c3036,
	--book-dropdown-chapter-background-color: #6e747f,
	--book-dropdown-text-color: #000000,
	--book-dropdown-section-background-color: rgba(255, 255, 255, 0.3),
	--main-textarea-svg-color: #000000,
	--main-textarea-svg-fill-color: #000000,
	--main-textarea-read-chapter-background: #fffff5,
	--main-textarea-read-chapter-shadow: #b1a77a,
	--main-textarea-read-chapter-active: #b1a77a,
	--active-color-primary: #6fbc8f,
	--active-color-secondary: #71bc90,
	--highlight-blue: $highlight-blue,
	--highlight-pink: $highlight-pink,
	--highlight-yellow: $highlight-yellow,
	--highlight-green: $highlight-green,
	--highlight-purple: $highlight-purple,
	--disabled-input-option: #b2bbc6,
	--inactive-font-option: #868686,
	--dark-theme-primary: #000000,
	--light-theme-primary: #fdf9f3,
	--default-theme-primary: #7e0e2a,
	--settings-text-color: #ffffff,
	--theme-option-border: #b2bbc6,
	--notebook-footer-background-color: #1b1f24,
	--notebook-title-date-color: #6ec3e2,
	--profile-forgot-password-color: #6ec3e2,
	--profile-login-signup-background-color: #1b1f24,
	--profile-invalid-input-background-color: #9e1e35,
	--context-menu-background-color: #ffffff,
	--context-menu-svg-fill-color: #000000,
	--context-menu-text-color: #000000,
	--context-menu-highlight-active-background-color: #868686,
	--context-menu-hover-color: #ccc,
	--audio-player-progress-bar-background: #5b5f64,
	--audio-player-handle-background: #000000,
	--audio-player-background: #2c3036,
	--audio-player-gripper-background-color: rgba(25, 25, 25, 0.9),
	--audio-player-gripper-before-color: rgba(255, 255, 255, 0.8),
	--menu-body-background-color: #2c3036,
	--menu-background-color-opaque: rgba(255, 255, 255, 0.1),
	--menu-body-background-color-transparent: rgba(44, 48, 54, 0),
	--menu-header-background-color: #7e0e2a,
	--menu-border-color: transparent,
	--menu-hover-state-background-color: rgba(0, 0, 0, 0.1),
	--default-background-color: #fdf9f3,
	--default-header-background-color: #9e1e35,
	--default-footer-background-color: #9e1e35,
	--default-header-background-transparent: rgba(153, 30, 53, 0),
	--default-text-color: #ffffff,
	--default-verse-number-color: #000,
	--before-after-border-color: rgba(0, 0, 0, 0.2),
	--default-svg-fill-color: #ffffff,
	--default-input-placeholder-color: #ffffff,
	--application-text-super-color: #000000,
	--application-loading-spinner-color: #aeaeae,
	--default-header-background-color-transparent: rgba(153, 30, 53, 0),
	--application-input-caret-color: #000,
	--application-text-caret-color: #fff,
	--application-transparent-gray: rgba(0, 0, 0, 0.8),
	--application-text-selection-color: rgb(216, 182, 185),
	--application-text-container-color: #000000,
	--application-link-color: #6ec3e2,
	--default-language-name-background-color-transparent: rgba(0, 0, 0, 0),
	--read-full-chapter: rgba(0, 0, 0, 100),
	--video-player-background-color: rgba(0, 0, 0, 1),
	--video-player-black-bar-color: rgba(0, 0, 0, 1),
	--video-player-films-svg-color: rgba(255, 255, 255, 1),
);

//Here we transfer the variables from the map to the :root element
@if ($css4) {
	:root {
		@each $variable, $value in $variables {
			#{$variable}: $value;
		}
	}
}

//this is the "magic" function
@function var($variable) {
	@if ($css4) {
		@return unquote('var(' + $variable + ')');
	} @else {
		@return map-get($variables, $variable);
	}
}

//the mixin temporally sets the $css4 variable to false, compiles the css3 fallback,
// then makes the variable true again and compiles the css4 code.
// It should contain properties that use css4 variables, otherwise there will be
// unnessesary duplication of properties.
@mixin css4 {
	@if ($css4) {
		$css4-backup: $css4;
		@if ($compatibility) {
			$css4: false !global;
			@content;
		}
		$css4: true !global;
		@content;
		$css4: $css4-backup;
	} @else {
		@content;
	}
}

@media (max-width: 30rem) {
	:root {
		--application-base-font-size: 16px;
		--application-menu-font-size: 16px;
	}
}
